(function(c){function d(){var c="undefined"!==typeof navigator?navigator.userAgent:"";return/msie|trident/i.test(c)?(c=c.match(/(?:msie |rv:)(\d+(\.\d+)?)/i))&&1<c.length&&c[1]||"":""}function a(){if(m&&!k.length){var d=document.createElement("div");d.className="fakefile";d.appendChild(document.createElement("input"));var a=document.createElement("a");a.className="action-link";var g=document.createTextNode("Browse");a.appendChild(g);d.appendChild(a);a=document.getElementsByTagName("input");g=1;for(var f=
0;f<a.length;f++)if("file"==a[f].type){var b=a[f],h=c(b),e=d.cloneNode(!0);h.hide();e.id="fakefile-"+g;b.parentNode.appendChild(e);g++;b.relatedElement=document.getElementById(e.id).getElementsByTagName("input")[0];b.relatedImage=document.getElementById(e.id).getElementsByTagName("a")[0];e=c(b.relatedElement);var l=c(b.relatedImage);e.attr("rel",b.id).prop("readonly",!0);l.attr("rel",b.id);h.hasClass("fldrequired")&&e.addClass("fldrequired");b.onchange=b.onmouseout=function(){var a=c(this);fileName=
"";fileSize=!1;if(window.FileReader){if(!this.files.length)return;fileName=this.files[0].name;fileSize=this.files[0].size}else{if(!this.value)return;fileName=this.value.split(/(\\|\/)/g).pop()}this.relatedElement.value=fileName;var d=c(this.relatedImage);d.next(".filetype-error").remove();var b=a.attr("accept");if(!b.indexOf("/")||window.FileReader){var e=!0;b=b.split(",");fileName=fileName.toLowerCase();for(var g=0;g<b.length;g++){var f=b[g].toLowerCase();if(f.indexOf("/")&&f==this.files[0].type){e=
!1;break}if("."==f.charAt(0)&&fileName.endsWith(f)){e=!1;break}}e?d.after('<div class="filetype-error">Invalid File Type</div>'):(a=a.data("max-size"))&&!1!==fileSize&&fileSize>a&&d.after('<div class="filetype-error">File is too large, must be smaller than '+(a/1048576+"MB")+".</div>")}};b=function(){c("#"+c(this).attr("rel")).click()};e.on("click",b);l.on("click",b);h.change()}}}var m=document.createElement&&document.getElementsByTagName,k="";k=bowser.msie?bowser.version:d();c(window).load(function(){a()})})(jQuery);
String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var a=this.toString();if(void 0===d||d>a.length)d=a.length;d-=c.length;a=a.indexOf(c,d);return-1!==a&&a===d});
